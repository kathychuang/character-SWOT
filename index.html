<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âœ¨ QUANTUM BAZI | é‡å­å…«å­—è§£ç¢¼ç³»çµ±</title>
    <script src="https://cdn.jsdelivr.net/npm/lunar-javascript/lunar.js"></script>
    <style>
        :root {
            --bg: #050505;
            --card-bg: #141414;
            --accent: #00f2ff; /* Cyber Cyan */
            --accent-glow: rgba(0, 242, 255, 0.3);
            --secondary: #7000ff; /* Mystic Purple */
            --text: #e0e0e0;
            --text-muted: #888;
            --s-color: #00e676;
            --w-color: #ff3d00;
            --o-color: #2979ff;
            --t-color: #ffea00;
        }

        body {
            font-family: 'Segoe UI', 'Roboto', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(112, 0, 255, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(0, 242, 255, 0.1) 0%, transparent 40%);
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* SECTION 1: INPUT FORM */
        #inputSection {
            background: rgba(20, 20, 20, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid #333;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 0 30px var(--accent-glow);
            animation: slideUp 0.8s ease-out;
        }

        h1 {
            text-align: center;
            font-weight: 200;
            letter-spacing: 4px;
            margin-bottom: 10px;
            background: linear-gradient(90deg, var(--accent), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 2.5rem;
        }

        .subtitle {
            text-align: center;
            color: var(--text-muted);
            margin-bottom: 40px;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .form-group { margin-bottom: 20px; }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: var(--accent);
            font-size: 0.8rem;
            font-weight: bold;
            letter-spacing: 1px;
        }

        input, select {
            width: 100%;
            background: #000;
            border: 1px solid #333;
            padding: 15px;
            color: white;
            border-radius: 8px;
            font-size: 1rem;
            outline: none;
            box-sizing: border-box;
            transition: 0.3s;
        }

        input:focus, select:focus {
            border-color: var(--accent);
            box-shadow: 0 0 15px var(--accent-glow);
        }

        .btn-main {
            width: 100%;
            padding: 18px;
            background: linear-gradient(90deg, var(--secondary), var(--accent));
            border: none;
            color: white;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: transform 0.2s;
        }

        .btn-main:hover { transform: scale(1.02); box-shadow: 0 0 30px rgba(112, 0, 255, 0.5); }

        /* SECTION 2: LOADING */
        #loadingSection {
            display: none;
            text-align: center;
            padding: 50px;
        }
        .loader {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255,255,255,0.1);
            border-radius: 50%;
            border-top-color: var(--accent);
            animation: spin 1s ease-in-out infinite;
            margin: 0 auto 20px;
        }

        /* SECTION 3: REPORT */
        #reportSection {
            display: none;
            animation: fadeIn 1s ease;
        }

        .header-card {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 1px solid #333;
            padding-bottom: 30px;
        }

        .bazi-display {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 20px;
        }
        .pillar-box {
            background: #1a1a1a;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #333;
        }
        .pillar-box.day { border-color: var(--accent); box-shadow: 0 0 10px var(--accent-glow); }
        .p-char { font-size: 1.8rem; font-weight: bold; margin: 5px 0; }
        .p-label { font-size: 0.7rem; color: var(--text-muted); }

        /* SWOT Grid */
        .swot-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 40px;
        }

        .swot-box {
            background: var(--card-bg);
            padding: 25px;
            border-radius: 15px;
            position: relative;
            border-top: 3px solid transparent;
        }

        .swot-box h3 { margin-top: 0; display: flex; align-items: center; font-size: 1.2rem; }
        .swot-box ul { padding-left: 20px; margin: 0; }
        .swot-box li { margin-bottom: 10px; line-height: 1.6; font-size: 0.95rem; }

        .s-box { border-color: var(--s-color); } .s-box h3 { color: var(--s-color); }
        .w-box { border-color: var(--w-color); } .w-box h3 { color: var(--w-color); }
        .o-box { border-color: var(--o-color); } .o-box h3 { color: var(--o-color); }
        .t-box { border-color: var(--t-color); } .t-box h3 { color: var(--t-color); }

        /* Timeline */
        .timeline-box {
            background: linear-gradient(180deg, #1a1a1a 0%, #0a0a0a 100%);
            padding: 30px;
            border-radius: 15px;
            border: 1px solid #333;
        }
        .year-item {
            display: flex;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #222;
        }
        .year-item:last-child { border: none; margin: 0; padding: 0; }
        .year-label {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent);
            width: 80px;
            flex-shrink: 0;
        }
        .year-text { font-size: 0.95rem; color: #ccc; }

        .btn-reset {
            display: block;
            margin: 40px auto;
            background: transparent;
            border: 1px solid #444;
            color: #888;
            padding: 10px 30px;
            border-radius: 30px;
            cursor: pointer;
        }
        .btn-reset:hover { border-color: var(--accent); color: var(--accent); }

        @keyframes spin { to { transform: rotate(360deg); } }
        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        @media (max-width: 768px) {
            .form-grid, .swot-container { grid-template-columns: 1fr; }
            h1 { font-size: 1.8rem; }
        }
    </style>
</head>
<body>

    <div class="container">
        
        <div id="inputSection">
            <h1>QUANTUM BAZI</h1>
            <div class="subtitle">è¼¸å…¥å‡ºå» è¨­å®š // ä¸‹è¼‰éˆé­‚è—åœ–</div>
            
            <form id="baziForm">
                <div class="form-group">
                    <label>USER ID (å§“å)</label>
                    <input type="text" id="name" placeholder="ä¾‹å¦‚ï¼šNeo" required>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label>å‡ºç”Ÿæ—¥æœŸ</label>
                        <input type="date" id="birthDate" required>
                    </div>
                    <div class="form-group">
                        <label>å‡ºç”Ÿæ™‚é–“</label>
                        <input type="time" id="birthTime" required>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label>æ€§åˆ¥</label>
                        <select id="gender">
                            <option value="1">ç”· (Male)</option>
                            <option value="0">å¥³ (Female)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>è§£è®€æ¨¡å¼</label>
                        <select id="mode">
                            <option value="standard">æ¨™æº–æˆ°ç•¥ç‰ˆ (SWOT)</option>
                        </select>
                    </div>
                </div>

                <button type="submit" class="btn-main">âš¡ åˆå§‹åŒ–é€£çµ (INITIATE)</button>
            </form>
        </div>

        <div id="loadingSection">
            <div class="loader"></div>
            <p style="color: var(--accent); letter-spacing: 2px;">é€£æ¥é˜¿å¡è¥¿ç´€éŒ„...</p>
            <p id="loadingText" style="font-size: 0.8rem; color: #666;">æ­£åœ¨æ ¡æº–çœŸå¤ªé™½æ™‚...</p>
        </div>

        <div id="reportSection">
            <div class="header-card">
                <div style="font-size: 0.9rem; color: var(--secondary); margin-bottom: 10px;">REPORT FOR: <span id="r-name" style="color:white; font-weight:bold;"></span></div>
                <h2 id="r-title" style="margin: 0 0 10px 0;">æ ¸å¿ƒé »ç‡è§£æ</h2>
                <p id="r-desc" style="color: #aaa; font-size: 0.9rem; max-width: 600px; margin: 0 auto;">
                    ä½ çš„éˆé­‚ä»£ç¢¼å·²è§£é–‹ã€‚ä»¥ä¸‹æ˜¯ä½ ç›®å‰ç‰ˆæœ¬çš„äººç”Ÿæˆ°ç•¥åˆ†æã€‚
                </p>

                <div class="bazi-display">
                    <div class="pillar-box">
                        <div class="p-label">å¹´ (Karma)</div>
                        <div class="p-char" id="p-year">--</div>
                    </div>
                    <div class="pillar-box">
                        <div class="p-label">æœˆ (Career)</div>
                        <div class="p-char" id="p-month">--</div>
                    </div>
                    <div class="pillar-box day">
                        <div class="p-label">æ—¥ (Self)</div>
                        <div class="p-char" id="p-day">--</div>
                    </div>
                    <div class="pillar-box">
                        <div class="p-label">æ™‚ (Vision)</div>
                        <div class="p-char" id="p-time">--</div>
                    </div>
                </div>
            </div>

            <div class="swot-container">
                <div class="swot-box s-box">
                    <h3>âš¡ Strengths (å¤©è³¦åŸåŠ›)</h3>
                    <ul id="swot-s"></ul>
                </div>
                <div class="swot-box w-box">
                    <h3>ğŸ“‰ Weaknesses (ç³»çµ± Bug)</h3>
                    <ul id="swot-w"></ul>
                </div>
                <div class="swot-box o-box">
                    <h3>ğŸš€ Opportunities (å‚³é€é–€)</h3>
                    <ul id="swot-o"></ul>
                </div>
                <div class="swot-box t-box">
                    <h3>âš ï¸ Threats (é˜²ç«ç‰†è­¦å ±)</h3>
                    <ul id="swot-t"></ul>
                </div>
            </div>

            <div class="timeline-box">
                <h3 style="text-align: center; margin-bottom: 30px; color: var(--text);">ğŸ“… èƒ½é‡æµå¹´å°èˆª (Timeline)</h3>
                <div class="year-item">
                    <div class="year-label">2025</div>
                    <div class="year-text" id="year-2025">--</div>
                </div>
                <div class="year-item">
                    <div class="year-label">2026</div>
                    <div class="year-text" id="year-2026">--</div>
                </div>
                <div class="year-item">
                    <div class="year-label">2027</div>
                    <div class="year-text" id="year-2027">--</div>
                </div>
            </div>

            <button class="btn-reset" onclick="location.reload()">æŸ¥è©¢ä¸‹ä¸€ä½éˆé­‚</button>
        </div>

    </div>

    <script>
        // ğŸŒŒ HIGH FREQUENCY DATABASE (è³‡æ–™åº«)
        // é€™è£¡å®šç¾©äº†10å€‹å¤©å¹²çš„å°ˆå±¬é«˜é »è§£è®€
        const SOUL_DB = {
            'ç”²': {
                type: 'é™½æœ¨ (The Visionary Tree)',
                desc: 'ä½ æ˜¯æ­£ç›´ã€å‘ä¸Šã€ä¸å±ˆçš„åƒå¤©å¤§æ¨¹ã€‚ä½ ä¾†é€™å€‹ä¸–ç•Œæ˜¯ç‚ºäº†æˆç‚ºæ”¯æŸ±èˆ‡é®è”­ã€‚ä½ çš„é »ç‡å¸¶æœ‰å¼·çƒˆçš„ã€Œå•Ÿå‹•ã€ç‰¹è³ªã€‚',
                s: ['<li><strong>é ˜è¢–é­…åŠ›ï¼š</strong>å¤©ç”Ÿå…·æœ‰å‚ç›´å‘ä¸Šçš„ç”Ÿé•·å‹•èƒ½ï¼Œå®¹æ˜“æˆç‚ºåœ˜éšŠçš„ç²¾ç¥æŒ‡æ¨™ã€‚</li><li><strong>ä»æ…ˆæœ¬è³ªï¼š</strong>ä½ çš„æ ¸å¿ƒä»£ç¢¼å¯«å…¥äº†ã€Œä»ã€ï¼Œé€™è®“ä½ å…·æœ‰æ¥µå¼·çš„ä¿è­·æ¬²èˆ‡åŒç†å¿ƒã€‚</li>'],
                w: ['<li><strong>ä¸çŸ¥è®Šé€šï¼š</strong>å¤ªéç­†ç›´å®¹æ˜“æŠ˜æ–·ï¼Œé¢å°å¼·é¢¨ï¼ˆæŒ«æŠ˜ï¼‰æ™‚éœ€å­¸æœƒå½è…°ã€‚</li><li><strong>éåº¦æ‰¿æ“”ï¼š</strong>ç¿’æ…£æˆç‚ºæ‰€æœ‰äººçš„æ”¯æŸ±ï¼Œå®¹æ˜“å°è‡´æ ¹éƒ¨ç‡Ÿé¤Šè€—ç›¡ï¼ˆéå‹ï¼‰ã€‚</li>'],
                o: ['<li><strong>2025 ä¹™å·³å¹´ï¼š</strong>åŠ«è²¡åŠ©ç‡ƒï¼Œé©åˆå°‹æ‰¾åˆä½œå¤¥ä¼´ï¼ˆè—¤è”“ï¼‰ä¾†æ“´å¤§å½±éŸ¿åŠ›ï¼Œæ˜¯ã€Œå“ç‰Œæ“´å¼µã€å¹´ã€‚</li>'],
                t: ['<li><strong>é‡‘å±¬æ€§åˆ‡å‰²ï¼š</strong>è‹¥é‡åˆ°éå¼·çš„æ‰¹è©•ï¼ˆé‡‘èƒ½é‡ï¼‰ï¼Œå®¹æ˜“æ„Ÿåˆ°å—å‚·ï¼Œéœ€å»ºç«‹å¿ƒç†é˜²è­·ç½©ã€‚</li>']
            },
            'ä¹™': {
                type: 'é™°æœ¨ (The Networker)',
                desc: 'ä½ æ˜¯éˆæ´»ã€é©æ‡‰æ€§å¼·çš„èŠ±è‰è—¤è”“ã€‚ä½ ä¸éœ€è¦æˆç‚ºå¤§æ¨¹ï¼Œå› ç‚ºä½ æ“…é•·å€ŸåŠ›ä½¿åŠ›ï¼Œæ”€ç™»é«˜å³°ã€‚',
                s: ['<li><strong>é«˜ç¶­é€£çµï¼š</strong>èº«æ®µæŸ”è»Ÿï¼Œèƒ½é©æ‡‰ä»»ä½•ç’°å¢ƒï¼Œæ˜¯å¤©ç”Ÿçš„ç¤¾äº¤é«˜æ‰‹èˆ‡è³‡æºæ•´åˆè€…ã€‚</li><li><strong>éŸŒæ€§æ¥µå¼·ï¼š</strong>é‡ç«ç‡’ä¸ç›¡ï¼Œæ˜¥é¢¨å¹åˆç”Ÿã€‚ä½ çš„æ¢å¾©åŠ›ï¼ˆResilienceï¼‰æ˜¯åå¤©å¹²ä¹‹é¦–ã€‚</li>'],
                w: ['<li><strong>ç¼ºä¹ä¸»è¦‹ï¼š</strong>å®¹æ˜“éš¨é¢¨æ“ºå‹•ï¼Œéåº¦ä¾è³´ç’°å¢ƒæˆ–ä»–äººçš„èƒ½é‡å ´ã€‚</li><li><strong>ä½”æœ‰æ¬²ï¼š</strong>è—¤è”“ç”Ÿé•·å…·æœ‰çºç¹æ€§ï¼Œåœ¨é—œä¿‚ä¸­éœ€æ³¨æ„çµ¦äºˆå°æ–¹ç©ºé–“ã€‚</li>'],
                o: ['<li><strong>2025 ä¹™å·³å¹´ï¼š</strong>ä½ çš„æœ¬å‘½å¹´èƒ½é‡å ´ï¼Œé£Ÿå‚·ç”Ÿè²¡ï¼Œæ˜¯å±•ç¾æ‰è¯ä¸¦å°‡å…¶è®Šç¾çš„æœ€ä½³æ™‚æ©Ÿã€‚</li>'],
                t: ['<li><strong>é‚Šç•Œæ¨¡ç³Šï¼š</strong>å®¹æ˜“ä»‹å…¥ä»–äººçš„å› æœèª²é¡Œï¼Œéœ€å­¸æœƒèª²é¡Œåˆ†é›¢ã€‚</li>']
            },
            'ä¸™': {
                type: 'é™½ç« (The Sun)',
                desc: 'ä½ æ˜¯ç†±æƒ…ã€ç„¡ç§ç…§è€€çš„å¤ªé™½ã€‚ä½ ä¸éœ€è¦å»å°‹æ‰¾å…‰ï¼Œå› ç‚ºä½ å°±æ˜¯å…‰æœ¬èº«ã€‚ä½ çš„å­˜åœ¨å°±æ˜¯ç‚ºäº†é©…æ•£é™°éœ¾ã€‚',
                s: ['<li><strong>æ¥µè‡´é¡¯åŒ–ï¼š</strong>ä½ çš„æ„å¿µå¦‚åŒé™½å…‰èˆ¬å…·æœ‰ç©¿é€åŠ›ï¼Œé¡¯åŒ–é€Ÿåº¦æ¥µå¿«ã€‚</li><li><strong>æ…·æ…¨ç„¡ç§ï¼š</strong>ä¸æ±‚å›å ±çš„ä»˜å‡ºè®“ä½ ç©ç´¯äº†å¤§é‡çš„å®‡å®™ç¦å ±é»æ•¸ã€‚</li>'],
                w: ['<li><strong>å–œæ€’ç„¡å¸¸ï¼š</strong>æƒ…ç·’ä¾†å¾—å¿«å»å¾—ä¹Ÿå¿«ï¼Œå®¹æ˜“ä¸å°å¿ƒç¼å‚·èº«é‚Šè¦ªè¿‘çš„äººã€‚</li><li><strong>å®³æ€•å­¤ç¨ï¼š</strong>å¤ªé™½éœ€è¦è§€çœ¾ï¼Œè‹¥ç„¡äººæ¬£è³ï¼Œå®¹æ˜“é™·å…¥è‡ªæˆ‘æ‡·ç–‘çš„é»‘æ´ã€‚</li>'],
                o: ['<li><strong>2025 ä¹™å·³å¹´ï¼š</strong>å°æ˜Ÿç”Ÿèº«ï¼Œä½ æœƒç²å¾—å¼·å¤§çš„è²´äººæ”¯æŒæˆ–çŸ¥è­˜ä¸‹è¼‰ï¼Œé©åˆé€²ä¿®èˆ‡éˆæ€§æå‡ã€‚</li>'],
                t: ['<li><strong>èƒ½é‡è€—ç«­ï¼š</strong>æŒçºŒç™¼å…‰è€Œä¸å……é›»ï¼Œå®¹æ˜“å°è‡´å¿ƒè¡€ç®¡æˆ–çœ¼ç›ç³»çµ±çš„èƒ½é‡ä½è½ã€‚</li>']
            },
            'ä¸': {
                type: 'é™°ç« (The Mystic Flame)',
                desc: 'ä½ æ˜¯ç¥ç§˜ã€æº«æš–çš„ç‡­ç«æˆ–æ˜Ÿå…‰ã€‚ä½ æ“æœ‰ç›´é”éˆé­‚æ·±è™•çš„æ´å¯ŸåŠ›ï¼Œæ˜¯é»‘å¤œä¸­çš„å¼•è·¯äººã€‚',
                s: ['<li><strong>é«˜åº¦æ•æ„Ÿï¼š</strong>ä½ çš„ç›´è¦ºé›·é”æ¥µå…¶ç²¾æº–ï¼Œèƒ½è¼•æ˜“è®€å–ä»–äººçš„æ½›æ„è­˜è¨Šæ¯ã€‚</li><li><strong>å°ˆæ³¨åŠ›ï¼š</strong>ç‡­ç«é›–å°ï¼Œä½†èƒ½èšç„¦ä¸€é»ç‡ƒç‡’ï¼Œå…·æœ‰å¼·å¤§çš„é‘½ç ”èˆ‡çªç ´èƒ½åŠ›ã€‚</li>'],
                w: ['<li><strong>å…§åœ¨ç„¦æ…®ï¼š</strong>ç«è‹—éš¨é¢¨æ–æ›³ï¼Œä½ çš„å…§å¿ƒå¸¸æœ‰ç„¡åçš„ä¸å®‰å…¨æ„Ÿï¼Œéœ€è¦æŒçºŒçš„ç‡ƒæ–™ï¼ˆè‚¯å®šï¼‰ã€‚</li><li><strong>è¨˜ä»‡ï¼š</strong>é™°ç«å…·æœ‰æ‚¶ç‡’ç‰¹è³ªï¼Œä¸æ»¿æƒ…ç·’å®¹æ˜“ç´¯ç©æˆå…§å‚·ã€‚</li>'],
                o: ['<li><strong>2025 ä¹™å·³å¹´ï¼š</strong>åŠ«è²¡å¹«èº«ï¼Œä½ çš„ç¤¾äº¤åœˆå°‡æœƒæ“´å¤§ï¼Œé©åˆèˆ‰è¾¦ç¤¾ç¾¤æ´»å‹•æˆ–å»ºç«‹ç²‰çµ²åœ˜ã€‚</li>'],
                t: ['<li><strong>æƒ…ç·’æ·¹æ²’ï¼š</strong>åœ¨æ°´æ—ºçš„æµå¹´æˆ–æœˆä»½ï¼Œéœ€æ³¨æ„æƒ…ç·’çš„æ´ªæµå°‡ä½ çš„ç«è‹—æ¾†ç†„ã€‚</li>']
            },
            'æˆŠ': {
                type: 'é™½åœŸ (The Mountain)',
                desc: 'ä½ æ˜¯ç©©é‡ã€åšå¯¦çš„é«˜å±±ã€‚ä½ çµ¦äººå¼·å¤§çš„å®‰å…¨æ„Ÿï¼Œæ˜¯æ‰¿è¼‰è¬ç‰©èˆ‡ç§˜å¯†çš„å®¹å™¨ã€‚',
                s: ['<li><strong>ä¿¡ç”¨è³‡ç”¢ï¼š</strong>èª ä¿¡æ˜¯ä½ æœ€å¤§çš„è²¨å¹£ï¼Œäººå€‘å¤©ç”Ÿé¡˜æ„ä¿¡ä»»ä¸¦ä¾è³´ä½ ã€‚</li><li><strong>åŒ…å®¹åŠ›ï¼š</strong>èƒ½å¤ æ¥ç´å„ç¨®ä¸åŒé »ç‡çš„äººäº‹ç‰©ï¼Œå…·æœ‰æ¥µå¼·çš„è½‰åŒ–èˆ‡æ•´åˆèƒ½åŠ›ã€‚</li>'],
                w: ['<li><strong>å›ºåŸ·å·±è¦‹ï¼š</strong>å±±æ˜¯ä¸æœƒç§»å‹•çš„ï¼Œè¦æ”¹è®Šä½ çš„æƒ³æ³•æ¯”ç§»å±±é‚„é›£ï¼Œå®¹æ˜“éŒ¯å¤±è½‰å‹è‰¯æ©Ÿã€‚</li><li><strong>åæ‡‰é²ç·©ï¼š</strong>å°æ–°è³‡è¨Šçš„è™•ç†é€Ÿåº¦è¼ƒæ…¢ï¼Œçµ¦äººé²éˆçš„éŒ¯è¦ºã€‚</li>'],
                o: ['<li><strong>2025 ä¹™å·³å¹´ï¼š</strong>ç«åœŸç›¸ç”Ÿï¼Œèƒ½é‡ç²å¾—è£œçµ¦ï¼Œæ˜¯å»ºç«‹å€‹äººæ¬Šå¨èˆ‡å°ˆæ¥­å½¢è±¡çš„ã€Œé€ å±±é‹å‹•ã€æœŸã€‚</li>'],
                t: ['<li><strong>å›¤ç©ç—‡ï¼š</strong>å®¹æ˜“å›¤ç©èˆŠç‰©æˆ–èˆŠæƒ…ç·’ï¼Œéœ€å®šæœŸé€²è¡Œç‰©ç†èˆ‡å¿ƒéˆçš„æ–·æ¨é›¢ã€‚</li>']
            },
            'å·±': {
                type: 'é™°åœŸ (The Garden)',
                desc: 'ä½ æ˜¯ç´°è†©ã€æ»‹é¤Šçš„ç”°åœ’ä¹‹åœŸã€‚ä½ æ“æœ‰å­•è‚²ç”Ÿå‘½çš„èƒ½åŠ›ï¼Œæ“…é•·ç­–åŠƒã€åŸ¹è‚²èˆ‡æ•™å­¸ã€‚',
                s: ['<li><strong>å¤šæ‰å¤šè—ï¼š</strong>ç”°åœ’èƒ½ç¨®æ¤å„å¼ä½œç‰©ï¼Œä½ å…·æœ‰å¤šæ¨£åŒ–çš„æŠ€èƒ½èˆ‡è®Šç¾ç®¡é“ã€‚</li><li><strong>ç´°ç¯€æ§ï¼š</strong>å°æ–¼ç´°å¾®çš„è®ŠåŒ–éå¸¸æ•æ„Ÿï¼Œé©åˆè™•ç†è¤‡é›œçš„äººéš›æˆ–æ•¸æ“šå·¥ä½œã€‚</li>'],
                w: ['<li><strong>å„ªæŸ”å¯¡æ–·ï¼š</strong>æ³¥åœŸæ˜¯ç²˜æ»¯çš„ï¼Œä½ å®¹æ˜“åœ¨åšæ±ºå®šæ™‚é™·å…¥æ³¥æ²¼ï¼Œæƒ³å¤ªå¤šè€Œè¡Œå‹•å¤ªå°‘ã€‚</li><li><strong>ç¼ºä¹è‡ªä¿¡ï¼š</strong>å®¹æ˜“ä½ä¼°è‡ªå·±çš„åƒ¹å€¼ï¼Œç¿’æ…£èº²åœ¨å¹•å¾Œé»˜é»˜ä»˜å‡ºã€‚</li>'],
                o: ['<li><strong>2025 ä¹™å·³å¹´ï¼š</strong>æ­£å°æµå¹´ï¼Œæœ‰åˆ©æ–¼è€ƒå–è­‰ç…§ã€ç½®ç”¢æˆ–ç²å¾—é•·è¼©/ä¸Šå¸çš„ææ‹”ã€‚</li>'],
                t: ['<li><strong>ç•Œç·šå•é¡Œï¼š</strong>å®¹æ˜“è¢«ä»–äººçš„æƒ…ç·’åƒåœ¾å‚¾å€’ï¼Œéœ€å­¸æœƒå®šæœŸæ·¨åŒ–èƒ½é‡å ´ã€‚</li>']
            },
            'åºš': {
                type: 'é™½é‡‘ (The Warrior)',
                desc: 'ä½ æ˜¯å‰›æ¯…ã€é©æ–°çš„æ–§é‰ä¹‹é‡‘ã€‚ä½ æ˜¯å¤©ç”Ÿçš„æ”¹é©è€…ï¼Œå¸¶è‘—æ‰“ç ´èˆŠé«”åˆ¶çš„ä½¿å‘½è€Œä¾†ã€‚',
                s: ['<li><strong>åŸ·è¡ŒåŠ›ï¼š</strong>ä½ æ˜¯åå¤©å¹²ä¸­è¡Œå‹•åŠ›æœ€å¼·çš„ï¼Œèªªåšå°±åšï¼Œçµ•ä¸æ‹–æ³¥å¸¶æ°´ã€‚</li><li><strong>ç¾©æ°£ï¼š</strong>ç‚ºæœ‹å‹å…©è‚‹æ’åˆ€ï¼Œå…·æœ‰å¼·çƒˆçš„æ­£ç¾©æ„Ÿèˆ‡ä¿ å®¢ç²¾ç¥ã€‚</li>'],
                w: ['<li><strong>éæ–¼éŠ³åˆ©ï¼š</strong>èªªè©±ç›´æŒ‡æ ¸å¿ƒï¼Œå®¹æ˜“åœ¨ä¸ç¶“æ„é–“åˆºå‚·ä»–äººçš„è‡ªå°Šã€‚</li><li><strong>ç ´å£æ€§ï¼š</strong>è‹¥ç„¡å¼•å°ï¼Œå®¹æ˜“æˆç‚ºç‚ºäº†åå°è€Œåå°çš„ç ´å£è€…ã€‚</li>'],
                o: ['<li><strong>2025 ä¹™å·³å¹´ï¼š</strong>å®˜æ®ºæ··é›œä½†æœ‰åˆ¶ï¼Œé€™æ˜¯ã€Œå£“åŠ›æ¸¬è©¦ã€å¹´ï¼Œé€šéè€ƒé©—å°‡ç²å¾—å·¨å¤§çš„æ¬ŠåŠ›èºå‡ã€‚</li>'],
                t: ['<li><strong>ç¡¬ç¢°ç¡¬ï¼š</strong>é‡åˆ°è¡çªç¿’æ…£æ­£é¢å‰›ï¼Œå®¹æ˜“å°è‡´å…©æ•—ä¿±å‚·ï¼Œéœ€å­¸æœƒä»¥æŸ”å…‹å‰›ã€‚</li>']
            },
            'è¾›': {
                type: 'é™°é‡‘ (The Jewel)',
                desc: 'ä½ æ˜¯ç²¾ç·»ã€é–ƒè€€çš„ç å¯¶é¦–é£¾ã€‚ä½ è¿½æ±‚å®Œç¾ï¼Œé‡è¦–è³ªæ„Ÿèˆ‡é¢å­ï¼Œä¾†åˆ°ä¸–ä¸Šæ˜¯ç‚ºäº†å±•ç¾å„ªé›…ã€‚',
                s: ['<li><strong>ç¾å­¸å¤©è³¦ï¼š</strong>å°ç¾æ„Ÿæœ‰æ¥µé«˜çš„æ•éŠ³åº¦ï¼Œé©åˆå¾äº‹è¨­è¨ˆã€æ™‚å°šæˆ–è—è¡“ç›¸é—œå·¥ä½œã€‚</li><li><strong>é‚è¼¯æ¸…æ™°ï¼š</strong>é›–ç„¶å¤–è¡¨æŸ”ç¾ï¼Œå…§åœ¨é‚è¼¯å»å¦‚æ‰‹è¡“åˆ€èˆ¬ç²¾æº–çŠ€åˆ©ã€‚</li>'],
                w: ['<li><strong>è™›æ¦®å¿ƒï¼š</strong>éåº¦åœ¨æ„ä»–äººçš„è©•åƒ¹èˆ‡å¤–åœ¨æ’å ´ï¼Œå®¹æ˜“è¿·å¤±çœŸå¯¦è‡ªæˆ‘ã€‚</li><li><strong>ç»ç’ƒå¿ƒï¼š</strong>ç å¯¶æ˜¯è„†å¼±çš„ï¼Œå—ä¸äº†ä¸€é»ç‘•ç–µæˆ–æ‰¹è©•ï¼Œå®¹æ˜“ç¢è£‚ã€‚</li>'],
                o: ['<li><strong>2025 ä¹™å·³å¹´ï¼š</strong>æ­£å®˜åˆèº«ï¼Œä½ çš„é­…åŠ›èˆ‡åè²å°‡æœƒæå‡ï¼Œå–®èº«è€…æœ‰æ¥µä½³çš„æ¡ƒèŠ±é‹ï¼ˆæˆ–åˆä½œé‹ï¼‰ã€‚</li>'],
                t: ['<li><strong>è¢«åŸ‹æ²’ï¼š</strong>è‹¥ç„¡å…‰ï¼ˆèˆå°/ç«ï¼‰ç…§è€€ï¼Œç å¯¶å°‡é»¯æ·¡ç„¡å…‰ï¼Œéœ€ä¸»å‹•çˆ­å–æ›å…‰æ©Ÿæœƒã€‚</li>']
            },
            'å£¬': {
                type: 'é™½æ°´ (The Ocean)',
                desc: 'ä½ æ˜¯å¥”æ”¾ã€æ™ºæ…§çš„æ±Ÿæ²³å¤§æµ·ã€‚ä½ æ“æœ‰å®è§€çš„è¦–é‡èˆ‡ç„¡æ³•è¢«éåˆ¶çš„æµå‹•æ€§ã€‚',
                s: ['<li><strong>å¤§æ™ºæ…§ï¼š</strong>æ°´ä¸»æ™ºï¼Œä½ æ“æœ‰æ¥µå¼·çš„å­¸ç¿’åŠ›èˆ‡ç­–ç•¥æ€ç¶­ï¼Œå–„æ–¼æ‡‰è®Šã€‚</li><li><strong>äººè„ˆå»£é—Šï¼š</strong>æµ·ç´ç™¾å·ï¼Œä½ èƒ½èˆ‡ä¸‰æ•™ä¹æµçš„äººæ‰“äº¤é“ï¼Œè³‡æºé€£çµåŠ›å¼·ã€‚</li>'],
                w: ['<li><strong>ç¼ºä¹å®šæ€§ï¼š</strong>åƒæ°´ä¸€æ¨£æµå‹•ï¼Œå®¹æ˜“è™é ­è›‡å°¾ï¼Œç¼ºä¹é•·æœŸå …æŒçš„å®šåŠ›ã€‚</li><li><strong>æ°¾æ¿«æˆç½ï¼š</strong>æƒ…ç·’ä¸€æ—¦çˆ†ç™¼å¦‚åŒæµ·å˜¯ï¼Œæ¯€æ»…æ€§æ¥µå¼·ï¼Œéœ€å­¸æœƒæƒ…ç·’ç–å°ã€‚</li>'],
                o: ['<li><strong>2025 ä¹™å·³å¹´ï¼š</strong>è²¡æ˜Ÿé«˜ç…§ï¼Œæ°´ç«æ—¢æ¿Ÿã€‚é€™æ˜¯ä½ ã€Œè®Šç¾ã€çš„é—œéµå¹´ï¼Œæµå‹•çš„è³‡æºå°‡è½‰åŒ–ç‚ºå›ºé«”è²¡å¯Œã€‚</li>'],
                t: ['<li><strong>éš¨æ³¢é€æµï¼š</strong>å®¹æ˜“å—åˆ°å¤§ç’°å¢ƒå½±éŸ¿è€Œå¤±å»æ–¹å‘ï¼Œéœ€è¨­å®šæ¸…æ™°çš„å°èˆªç›®æ¨™ã€‚</li>']
            },
            'ç™¸': {
                type: 'é™°æ°´ (The Mist)',
                desc: 'ä½ æ˜¯æº«æŸ”ã€æ»²é€çš„é›¨éœ²é›²éœ§ã€‚ä½ æ“æœ‰æœ€å¼·çš„æ»²é€åŠ›ï¼Œèƒ½ç„¡è²ç„¡æ¯åœ°å½±éŸ¿ä»–äººã€‚',
                s: ['<li><strong>éˆæ€§å¤©è³¦ï¼š</strong>ä½ æ˜¯æœ€æ¥è¿‘éˆæ€§æºé ­çš„å¤©å¹²ï¼Œç¬¬å…­æ„Ÿæ¥µå¼·ï¼Œé©åˆèº«å¿ƒéˆå·¥ä½œã€‚</li><li><strong>ä»¥æŸ”å…‹å‰›ï¼š</strong>ä½ ä¸æ­£é¢è¡çªï¼Œä½†èƒ½é€éæŒçºŒçš„æ»²é€ï¼ˆæ»´æ°´ç©¿çŸ³ï¼‰é”åˆ°ç›®çš„ã€‚</li>'],
                w: ['<li><strong>æ‚²è§€ä¸»ç¾©ï¼š</strong>å®¹æ˜“é™·å…¥æƒ…ç·’çš„é™°é›¨å¤©ï¼Œéåº¦æ€è€ƒè² é¢å¯èƒ½æ€§ã€‚</li><li><strong>å„ªæŸ”å¯¡æ–·ï¼š</strong>é›²éœ§æ‰æ‘¸ä¸å®šï¼Œå®¹æ˜“è®“äººè¦ºå¾—ä½ å¿ƒæ€æ·±æ²‰æˆ–ç«‹å ´ä¸å …å®šã€‚</li>'],
                o: ['<li><strong>2025 ä¹™å·³å¹´ï¼š</strong>è²´äººé‹æ—ºï¼Œä¸”æœ‰åˆ©æ–¼ã€Œéš±å½¢ä½ˆå±€ã€ã€‚é©åˆåœ¨å¹•å¾Œç­–åŠƒå¤§é …ç›®ï¼Œç­‰å¾…æ™‚æ©Ÿçˆ†ç™¼ã€‚</li>'],
                t: ['<li><strong>è‡ªæˆ‘é‚Šç•Œï¼š</strong>å®¹æ˜“åƒéœ§ä¸€æ¨£èˆ‡ç’°å¢ƒèåˆï¼Œå°è‡´å¤±å»è‡ªæˆ‘ï¼Œéœ€ç·´ç¿’å»ºç«‹å¿ƒç†åœç‰†ã€‚</li>']
            }
        };

        // ğŸ“… ç°¡æ˜“æµå¹´è³‡æ–™åº« (The Timeline Logic)
        // é€™è£¡ç°¡å–®è™•ç†ï¼Œé‡å° 2025, 2026, 2027 çµ¦å‡ºé€šç”¨çš„å¤§ç’°å¢ƒ+é‡å°æ—¥ä¸»çš„å°å»ºè­°
        const YEAR_DB = {
            '2025': '<strong>ä¹™å·³å¹´ (æœ¨ç«) - é¡¯åŒ–ä¹‹å¹´ï¼š</strong> å®‡å®™é »ç‡é€²å…¥ã€Œè¦–è¦ºåŒ–ã€éšæ®µã€‚é€™æ˜¯ä¸€å€‹çœ‹é‡ã€Œå¤–è¡¨ã€å“ç‰Œã€è¡¨é”ã€çš„å¹´ä»½ã€‚å°æ–¼ä½ è€Œè¨€ï¼Œ',
            '2026': '<strong>ä¸™åˆå¹´ (ç´”ç«) - è£‚è®Šä¹‹å¹´ï¼š</strong> èƒ½é‡é”åˆ°é ‚å³°ï¼Œæ˜¯å·¨å¤§çš„è½‰æŠ˜é»ã€‚èˆŠæœ‰çš„çµæ§‹æœƒè¢«ç‡ƒç‡’ï¼Œæ–°çš„ç§©åºå°‡å»ºç«‹ã€‚å»ºè­°ä½ ',
            '2027': '<strong>ä¸æœªå¹´ (ç«åœŸ) - æ²‰æ¾±ä¹‹å¹´ï¼š</strong> ç¶“æ­·äº†å…©å¹´çš„é«˜é »ç‡ƒç‡’ï¼Œé€™ä¸€å¹´é€²å…¥é¤˜æº«èˆ‡è½‰åŒ–ã€‚é©åˆéå›ºè³‡ç”¢èˆ‡ä¿®å¾©èº«å¿ƒã€‚ä½ çš„èª²é¡Œæ˜¯'
        };

        document.getElementById('baziForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('name').value;
            const date = document.getElementById('birthDate').value;
            const time = document.getElementById('birthTime').value;

            if (!name || !date || !time) return;

            // 1. UI TRANSITION: Hide Form -> Show Loader
            document.getElementById('inputSection').style.display = 'none';
            document.getElementById('loadingSection').style.display = 'block';

            // æ¨¡æ“¬é‹ç®—å»¶é²ï¼Œå¢åŠ å„€å¼æ„Ÿ
            const loadingTexts = ["è§£ææ˜Ÿé«”è»Œé“...", "ä¸‹è¼‰é˜¿å¡è¥¿ç´€éŒ„...", "è¨ˆç®—äº”è¡Œå¼·å¼±...", "ç”Ÿæˆèƒ½é‡çŸ©é™£..."];
            let step = 0;
            const interval = setInterval(() => {
                if(step < loadingTexts.length) {
                    document.getElementById('loadingText').innerText = loadingTexts[step];
                    step++;
                }
            }, 500);

            setTimeout(() => {
                clearInterval(interval);
                generateReport(name, date, time);
            }, 2500);
        });

        function generateReport(name, dateStr, timeStr) {
            // 1. CALCULATE BAZI
            const [year, month, day] = dateStr.split('-').map(Number);
            const [hour, minute] = timeStr.split(':').map(Number);
            
            const solar = Solar.fromYmdHms(year, month, day, hour, minute, 0);
            const lunar = solar.getLunar();
            const bazi = lunar.getEightChar();

            // 2. EXTRACT DATA
            const yP = bazi.getYear();
            const mP = bazi.getMonth();
            const dP = bazi.getDay();
            const tP = bazi.getTime();
            
            // æ—¥ä¸» (Day Master)
            const dm = dP.charAt(0); // "ç”²", "ä¹™"...
            const soulData = SOUL_DB[dm] || SOUL_DB['ç”²']; // Fallback

            // 3. RENDER HEADER
            document.getElementById('r-name').innerText = name;
            document.getElementById('r-title').innerText = `éˆé­‚åŸå‹ï¼š${soulData.type}`;
            document.getElementById('r-desc').innerHTML = soulData.desc;

            document.getElementById('p-year').innerText = yP;
            document.getElementById('p-month').innerText = mP;
            document.getElementById('p-day').innerText = dP;
            document.getElementById('p-time').innerText = tP;

            // 4. RENDER SWOT
            document.getElementById('swot-s').innerHTML = soulData.s.join('');
            document.getElementById('swot-w').innerHTML = soulData.w.join('');
            document.getElementById('swot-o').innerHTML = soulData.o.join('');
            document.getElementById('swot-t').innerHTML = soulData.t.join('');

            // 5. RENDER TIMELINE (Simple logic addition)
            // æ ¹æ“šæ—¥ä¸»çµ¦å‡ºç°¡å–®å»ºè­°
            let advice25 = "é †æ‡‰ç«çš„èƒ½é‡ï¼Œå¤§è†½å±•ç¾ã€‚";
            let advice26 = "ä¿æŒå†·éœï¼Œé¿å…éç†±ã€‚";
            let advice27 = "å›æ­¸åœŸåœ°ï¼Œå‹™å¯¦ç´¯ç©ã€‚";

            if("å£¬ç™¸".includes(dm)) { 
                advice25 = "æ°´ç«æ—¢æ¿Ÿï¼Œé€™æ˜¯ä½ è²¡é‹çˆ†ç™¼çš„ä¸€å¹´ã€‚"; 
                advice26 = "æ³¨æ„è²¡å‹™å¤§é€²å¤§å‡ºã€‚";
            } else if ("ä¸™ä¸".includes(dm)) {
                advice25 = "æ¯”åŠ«éæ—ºï¼Œæ³¨æ„ç«¶çˆ­èˆ‡åˆä½œã€‚";
                advice26 = "æ¥µè‡´ç‡ƒç‡’ï¼Œæ³¨æ„å¿ƒè¡€ç®¡èˆ‡æƒ…ç·’ã€‚";
            }

            document.getElementById('year-2025').innerHTML = YEAR_DB['2025'] + advice25;
            document.getElementById('year-2026').innerHTML = YEAR_DB['2026'] + advice26;
            document.getElementById('year-2027').innerHTML = YEAR_DB['2027'] + advice27;

            // 6. UI TRANSITION: Hide Loader -> Show Report
            document.getElementById('loadingSection').style.display = 'none';
            document.getElementById('reportSection').style.display = 'block';
            
            // Scroll to top
            window.scrollTo(0, 0);
        }
    </script>
</body>
</html>
